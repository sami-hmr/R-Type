{
  "entities_template": [
    {
      "name": "menu",
      "components": {
        "moving:Position": {
          "pos": {
            "x": 0.0,
            "y": -0.5
          }
        },
        "sfml:Drawable": {},
        "sfml:Text": {
          "font": "assets/fonts/roboto.ttf",
          "size": {
            "width": 40.0,
            "height": 40.0
          },
          "text": "R-TYPE MENU"
        }
      }
    }
  ],
  "scenes": [
    {
      "name": "menu",
      "state": "main",
      "plugins": [
        {
          "name": "logger",
          "config": {
            "level": "DEBUG"
          }
        },
        {
          "name": "actions",
          "config": {}
        }
      ],
      "entities": [
        {
          "template": "menu"
        },
        {
          "moving:Position": {
            "pos": {
              "x": 0.0,
              "y": 0.0
            }
          },
          "sfml:Drawable": {},
          "sfml:Text": {
            "font": "assets/fonts/roboto.ttf",
            "size": {
              "width": 30.0,
              "height": 30.0
            },
            "text": "Press ENTER to start game"
          }
        },
        {
          "moving:Position": {
            "pos": {
              "x": 0.0,
              "y": 0.3
            }
          },
          "sfml:Drawable": {},
          "sfml:Text": {
            "font": "assets/fonts/roboto.ttf",
            "size": {
              "width": 25.0,
              "height": 25.0
            },
            "text": "Press R to return to menu"
          }
        },
        {
          "actions:ActionTrigger": {
            "trigger": {
              "type": "KeyPressed",
              "params": {
                "key": "ENTER"
              }
            },
            "to_emit": [
              {
                "name": "SceneChangeEvent",
                "params": {
                  "target_scene": "game",
                  "state": "main",
                  "reason": "User pressed enter"
                }
              },
              {
                "name": "SceneChangeEvent",
                "params": {
                  "target_scene": "menu",
                  "state": "disabled",
                  "reason": "User pressed R"
                }
              }
            ]
          }
        }
      ]
    },
    {
      "name": "game",
      "state": "disabled",
      "plugins": [
        {
          "name": "actions",
          "config": {}
        }
      ],
      "entities": [
        {
          "moving:Position": {
            "hook": "playerpos",
            "pos": {
              "x": 0.0,
              "y": 0.0
            },
            "z": 2
          },
          "sfml:Drawable": {},
          "moving:Velocity": {
            "hook": "player",
            "speed": {
              "x": 0.01,
              "y": 0.01
            },
            "direction": {
              "x": 0.0,
              "y": 0.0
            }
          },
          "sfml:AnimatedSprite": {
            "animations": [
              {
                "name": "idle",
                "texture": "assets/player.png",
                "frame_size": {
                  "x": 350.0,
                  "y": 150.0
                },
                "frame_pos": {
                  "x": 0.0,
                  "y": 0.0
                },
                "direction": {
                  "x": 1.0,
                  "y": 0.0
                },
                "sprite_size": {
                  "width": "20.0%",
                  "height": "20.0%"
                },
                "framerate": 10.0,
                "nb_frames": 7,
                "loop": true,
                "rollback": true
              }
            ],
            "default_animation": "idle"
          },
          "collision:Collidable": {
            "width": 0.2,
            "height": 0.2,
            "collision_type": "solid"
          },
          "controller:Controllable": {
            "UP": "Z",
            "DOWN": "S",
            "LEFT": "Q",
            "RIGHT": "D"
          },
          "life:Health": {
            "current": 5,
            "max": 100
          },
          "life:Damage": {
            "amount": 10
          },
          "life:Heal": {
            "amount": 1
          },
          "life:Team": {
            "name": "test1"
          }
        },
        {
          "moving:Position": {
            "pos": {
              "x": 0.5,
              "y": -0.3
            }
          },
          "moving:Velocity": {
            "speed": {
              "x": 0.07,
              "y": 0.08
            },
            "direction": {
              "x": 0.0,
              "y": 0.0
            }
          },
          "moving:Position": {
            "x": 0.5,
            "y": -0.9
          },
          "sfml:Drawable": {},
          "sfml:Sprite": {
            "texture": "assets/enemy.png",
            "size": {
              "width": "20.0%",
              "height": "20.0%"
            }
          },
          "collision:Collidable": {
            "width": 0.2,
            "height": 0.2,
            "collision_type": "trigger"
          },
          "life:Health": {
            "hook": "prout",
            "current": 5,
            "max": 100
          },
          "life:Team": {
            "name": "test"
          },
          "life:Damage": {
            "amount": 0
          },
          "moving:Velocity": {
            "speed": {
              "x": 0.005,
              "y": 0.005
            },
            "direction": {
              "x": 0.0,
              "y": 0.0
            }
          }
        },
        {
          "ui:input": {
            "hook": "game_text",
            "buffer": "test",
            "enabled": true
          }
        },
        {
          "moving:Position": {
            "pos": {
              "x": -0.8,
              "y": -0.8
            }
          },
          "sfml:Drawable": {},
          "sfml:Text": {
            "font": "assets/fonts/roboto.ttf",
            "size": {
              "width": 30.0,
              "height": 30.0
            },
            "text": "#game_text:buffer"
          }
        },
        
        {
          "actions:ActionTrigger": {
            "trigger": {
              "type": "KeyPressed",
              "params": {
                "key": "R"
              }
            },
            "to_emit": [
              {
                "name": "SceneChangeEvent",
                "params": {
                  "target_scene": "menu",
                  "state": "main",
                  "reason": "User pressed R"
                }
              },
              {
                "name": "SceneChangeEvent",
                "params": {
                  "target_scene": "game",
                  "state": "disabled",
                  "reason": "User pressed R"
                }
              }
            ]
          }
        },
        {
          "sfml:Drawable": {},
          "sfml:Background": {
            "layers": [
              {
                "path": "assets/backgrounds/skies/Sky_sky.png"
              },
              {
                "path": "assets/backgrounds/skies/sky_moon.png"
              },
              {
                "path": "assets/backgrounds/skies/Sky_back_mountain.png"
              },
              {
                "path": "assets/backgrounds/skies/sky_front_mountain.png"
              },
              {
                "path": "assets/backgrounds/skies/sky_clouds.png"
              },
              {
                "path": "assets/backgrounds/skies/Sky_cloud_single.png"
              },
              {
                "path": "assets/backgrounds/skies/Sky_front_cloud.png"
              },
              {
                "path": "assets/backgrounds/skies/sky_cloud_floor.png"
              },
              {
                "path": "assets/backgrounds/skies/sky_cloud_floor_2.png"
              }
            ],
            "render_type": "STRETCH",
            "parallax": {
              "active": true,
              "speed": {
                "x": -1000.0,
                "y": 0.0
              },
              "framerate": 60.0
            }
          }
        },
        {
          "moving:Position": {
            "pos": {
              "x": 0.0,
              "y": 0.0
            }
          },
          "sfml:Camera": {
            "size": {
              "width": "100.0%",
              "height": "100.0%"
            },
            "target": {
              "x": "50.0%",
              "y": "50.0%"
            },
            "speed": {
              "x": 0.01,
              "y": 0.01
            }
          }
        }
      ]
    }
  ]
}